<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Account | Market Neev</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/global.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>

<body>
    <div class="login-page">
        <div class="login-box" style="justify-content: center;">
            <div class="login-card-wrapper" style="width: 100%; max-width: 460px;">
                <div class="login-card">

                    <!-- Icon -->
                    <div style="text-align:center; margin-bottom:20px;">
                        <div style="width:64px; height:64px; background:linear-gradient(135deg,#8B2432,#c14858);
                                    border-radius:50%; display:inline-flex; align-items:center;
                                    justify-content:center; font-size:28px;">
                            üìß
                        </div>
                    </div>

                    <h2 class="login-title" style="text-align:center;">Check Your Email</h2>
                    <p class="login-subtitle" style="text-align:center;">
                        We've sent a 6-digit verification code to your email address.<br>
                        <strong>Enter it below to activate your account.</strong>
                    </p>

                    {% with messages = get_flashed_messages(category_filter=['error']) %}
                    {% if messages %}
                    <div class="login-error">
                        <strong>‚ö†</strong> {{ messages[0] }}
                    </div>
                    {% endif %}
                    {% endwith %}

                    {% with messages = get_flashed_messages(category_filter=['success']) %}
                    {% if messages %}
                    <div class="login-success"
                        style="color:#2e7d32; background:rgba(46,125,50,0.1); padding:12px 16px;
                               border-radius:8px; margin-bottom:16px; font-size:14px; border-left:4px solid #2e7d32;">
                        <strong>‚úì</strong> {{ messages[0] }}
                    </div>
                    {% endif %}
                    {% endwith %}

                    <!-- OTP Form -->
                    <form method="post" class="login-form" action="{{ url_for('auth.verify', username=username) }}">
                        <div class="form-group">
                            <label for="code" style="text-align:center; display:block;">Verification Code</label>
                            <input id="code" name="code" type="text" required autofocus
                                placeholder="‚óè ‚óè ‚óè ‚óè ‚óè ‚óè"
                                pattern="\d{6}" maxlength="6" inputmode="numeric"
                                style="letter-spacing:8px; font-size:26px; text-align:center;
                                       font-weight:700; font-family:'Courier New',monospace;" />
                        </div>

                        <button type="submit" class="login-button">
                            ‚úÖ Verify & Activate Account
                        </button>
                    </form>

                    <!-- Resend OTP -->
                    <div style="text-align:center; margin-top:20px; padding-top:16px; border-top:1px solid #e5e7eb;">
                        <p style="color:#6b7280; font-size:13px; margin-bottom:12px;">
                            Didn't receive the code? Check your spam folder or resend.
                        </p>
                        <form method="post" action="{{ url_for('auth.resend_otp_route', username=username) }}">
                            <button type="submit"
                                style="background:transparent; border:1.5px solid #8B2432; color:#8B2432;
                                       padding:8px 20px; border-radius:6px; font-size:13px; font-weight:600;
                                       cursor:pointer; transition:all 0.2s;"
                                onmouseover="this.style.background='#8B2432';this.style.color='white';"
                                onmouseout="this.style.background='transparent';this.style.color='#8B2432';">
                                üîÅ Resend OTP
                            </button>
                        </form>
                    </div>

                    <div class="login-footnote" style="text-align:center; margin-top:16px;">
                        <p style="font-size:13px;">
                            <a href="{{ url_for('auth.login') }}" style="color:#6b7280;">‚Üê Back to Login</a>
                        </p>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>

</html>
