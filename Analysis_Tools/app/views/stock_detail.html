{% extends "base.html" %}
{% block title %}{{ ticker }} Details{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/stock_detail_header.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/stock_detail_expiry.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/stock_detail_stats.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/stock_detail_chart.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/stock_detail_option_chain.css') }}">

<style>
.top-section {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 20px;
    margin: 20px 10px;
}

@media (max-width: 1100px) {
    .top-section {
        grid-template-columns: 1fr;
    }
}
</style>

<div class="stock-detail-container">
    <!-- Include Header Component -->
    {% include 'stock_detail_header.html' %}

    {% if data %}
    
    <!-- Top Section: Expiry Table + Statistics -->
    <div class="top-section">
        <!-- Left: Expiry Summary -->
        {% include 'stock_detail_expiry.html' %}

        <!-- Right: Statistics & Gauges -->
        {% include 'stock_detail_stats.html' %}
    </div>

    <!-- Price Chart -->
    {% include 'stock_detail_chart.html' %}

    <!-- Option Chain Table -->
    {% include 'stock_detail_option_chain.html' %}

    {% else %}
    <p class="no-data">No stock details found for {{ ticker }} on {{ selected_date }}</p>
    {% endif %}
</div>

{% endblock %}